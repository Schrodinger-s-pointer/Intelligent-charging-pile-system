# 智能充电桩管理系统
## 基于国产化主控芯片龙芯2K1000的智能充电桩管理系统
### 各个部分代码简介：

### Charging_pile  
  >该文件夹是充电控制板的工程代码。  
  >>文件夹code为控制工程、UI页面、数据库管理部分。  
  >>文件夹webapp为本地充电桩配置页面，运行后使用本地浏览器访问127.0.0.1:9527可对充电桩的设备地址码，定位地址、上报时间、串口选择等信息进行修改。  
### Gateway
  >该文件夹是异构网关的工程代码。  
  >>内部gateway文件夹为异构网关工程代码。
  >>文件夹webapp为网关的配置页面，可以对连接的服务器的账号和密码进行配置，运行后可访问127.0.0.1:9527进入修改页面。
### Zigbee
  >该文件夹内存放基于Z-Stack 2.4.0版本协议栈开发出来的Zigbee组网与透传程序。  
### Web_server
  >该文件夹内存放Web服务端工程。 
### Zigbee_PCB  
  >该文件夹内存放着本项目中使用在网关上的Zigbee拓展板的原理图和PCB制板文件。  
  >>该板的特点有具备485与TTL信号的转换、针对龙芯教育派的4串口拓展、全引脚的Zigbee模块，可供二次开发。  
  
### 版本迭代更新：  
>v1.0 更新Modbus协议帧的组装与发送  
v1.2 更新充电逻辑  
v1.4 添加网关工作  
v1.6 更新Zigbee组网与数据透传  
v1.8 升级异构网关  

>v2.0 更新web服务端  
v2.2 更新本地运行信息离线配置功能  
v2.4 添加本地数据库，更新自制数据库管理函数库  
v2.6 开发图形显示界面  
v2.8 添加自动生成二维码，实现扫码登录服务端功能  
v2.8.5 修复bug,优化主控逻辑  

>v3.0 优化充电逻辑、数据库和本地配置功能  
v3.2 联动界面和写入数据库停止时间  
v3.4 数据库修复、双设备完成和加入剩余时间  
v3.6 完善充电桩线程与事件逻辑，提高速度  
v3.8 充电桩与网关稳定版更新  

>v4.0 使用线程池优化充电逻辑，修复充电bug，添加配置页面管理员登录功能  
v4.2 使用线程事件和同步队列优化充电逻辑  
v4.4 网关修复、调整Zigbee网络信道与添加开机自启动服务  
v4.6 添加收尾校验码、自动修复帧和统一更新上报  
v4.8 添加线程运行列表，优化充电线程  

>v5.0 新版主控以及充电逻辑管理，加入生命周期线程  
v5.2 添加管理服务端，可供管理多网关下的多节点设备  
v5.4 优化充电开启与关闭逻辑、添加类握手协议和关闭逻辑自动重发  
v5.6 优化龙芯运行速度，优化关闭流程  
v5.8 加强充电开关逻辑，优化空载断电流程  

>v6.0 调整整体结构，优化大量细节  
